# 7. 네트워크 심화

##  7.1 안정성을 위한 기술

### 가용성(availability)

- 컴퓨터 시스템이 특정 기능을 실제로 수행할 수 있는 시간의 비율
- 전체 사용 시간 중에서 정상적인 사용 시간을 의미
    - 정상적인 사용 시간을 업타임(uptime)이라 하고, 정상적인 사용이 불가능한 시간을 다운타임(downtime)으로 정의
- 다운타임의 발생 원인은 매우 다양하므로 이를 모두 찾아 원천적으로 차단하기는 어려움
- 따라서 문제가 발생하지 않도록 하는 것이 아니라, 문제가 발생하더라도 계속 기능할 수 있도록 설계하는 것이 중요 (결함 감내, fault tolerance)

### 이중화

- 결함을 감내하여 가용성을 높이기 위한 가장 기본적이고 대표적인 방법
- 서버 컴퓨터, 네트워크 인터페이스(NIC), 스위치 등의 물리적 장비, 데이터베이스, 웹 서버 프로그램 등의 백업을 마련하여 결함에 대비
- 단일 장애점(SPoF; Single Point of Failure)
    - 문제가 발생할 경우 시스템 전체가 중단될 수 있는 대상
    - 가용성을 높이기 위해서는 SPoF를 이중화하는 것이 좋음
- 이중화 방식
    - 액티브/스탠바이(active-standby)
        - 한 시스템은 가동하고, 다른 시스템은 백업 용도로 대기 상태로 두는 방식
        - 액티브 상태인 시스템에 문제가 발생할 경우 스탠바이 시스템이 자동으로 액티브 시스템을 대신하여 동작
        - 안전하지만, 하나의 장비를 사용할 때에 비해 성능 상의 큰 변화는 없음
    - 액티브/액티브(active-active)
        - 두 시스템 모두를 가동 상태로 두는 방식
        - 부하를 분산시킬 수 있고, 두 시스템이 함께 가동되므로 성능 상의 이점도 있음
        - 한 시스템에 문제가 발생하면 순간적으로 다른 시스템에 부하가 급증할 수 있으며, 이로 인해 추가적인 문제가 발생할 수 있음

### 로드 밸런싱

- 트래픽(traffic)
    - 주어진 시점에 특정 노드를 경유한 패킷의 양
- 서버에 과도한 트래픽이 몰리면 CPU 발열, 메모리 공간 부족, 네트워크 병목 현상 등 문제로 서버의 가용성이 떨어짐
- 서버를 다중화했더라도 트래픽을 고르게 분산해야 가용성이 높아짐
- 로드 밸런싱(load balancing)
    - 트래픽의 고른 분배를 위해 사용하는 기술
    - 예시
        - 라운드 로빈 알고리즘(round robin algorithm)
            - 서버를 돌아가며 부하를 전달
        - 최소 연결 알고리즘(least connection algorithm)
            - 연결이 적은 서버부터 우선적으로 부하를 전달

## 7.2 안전성을 위한 기술

### 암호와 인증서

- 보호해야 할 데이터를 키로 암호화할 수 있음

#### 대칭 키 암호화 방식과 공개 키 암호화 방식

- 대칭 키 암호화(symmetric key cryptography)
    - 암호화와 복호화에 동일한 키를 사용
    - 적은 부하로 암호화 및 복호화를 빠르게 수행할 수 있음
    - 상대방에게 안전하게 키를 전달하기 어려움
- 공개 키 암호화(public key cryptography) 또는 비대칭 키 암호화(asymmetric key cryptography)
    - 공개 키(public key)와 개인 키(private key)로 분리, 공개 키로 암호화, 개인 키로 복호화를 진행
    - 암호화 및 복호화에 시간과 부하가 상대적으로 많이 들지만, 키를 안전하게 공유할 수 있음

#### 인증서와 디지털 서명

- 공개 키 인증서(public key certificate)
    - 공개 키와 공개 키의 유효성을 입증하기 위한 전자 문서
    - 웹 서버는 공개 키와 함께, 공개 키에 대한 메타데이터를 담은 인증서를 전송함

### HTTPS: SSL과 TLS

- 인증과 암호화 수행 프로토콜
    - SSL(Secure Sockets Layer)
    - TLS(Transport Layer Security)
- HTTPS(HTTP over TLS)
    - SSL/TLS를 사용하는 프로토콜
    - HTTP 메시지의 안전한 송수신을 위해 개발

## 7.3 무선 네트워크

### 전파와 주파수

### 와이파이와 802.11

### AP와 서비스 셋

- AP (Access Point)
    - 무선 통신 기기들을 연결하여 무선 네트워크를 구성하는 장치
- 서비스 셋(Service Set)
    - 무선 네트워크를 이루는 AP와 여러 장치들의 집합