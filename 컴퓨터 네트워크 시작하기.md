# 1. 컴퓨터 네트워크 시작하기

## 1.1 컴퓨터 네트워크를 알아야 하는 이유

- 컴퓨터 네트워크(computer network)
    - 여러 개의 장치가 마치 그물처럼 서로 연결되어 정보를 주고받을 수 있는 통신망

### 네트워크의 네트워크, 인터넷

- 인터넷(internet)
    - 여러 네트워크를 연결한 네트워크의 네트워크

### 개발자가 컴퓨터 네트워크를 알아야 하는 이유

- 프로그래밍 언어나 웹 프레임워크 혹은 라이브러리를 사용할 때 네트워크에 대한 배경지식이 있어야만 활용할 수 있는 기능들이 있음
- 프로그램 유지 보수 시 네트워크 지식은 문제 발생 시 해결의 실마리가 됨

## 1.2 네트워크 거시적으로 살펴보기

- 네트워크는 그래프의 형태를 띠고 있음
- 그래프(graph)
    - 노드와 노드를 연결하는 간선으로 이루어진 자료 구조
    - 노드(node)
        - 정보를 주고받을 수 있는 장치
    - 간선(edge)
        - 정보를 주고받을 수 있는 유무선의 통신 매체
- 자료 구조
    - 정보를 표현하고 다루는 방법

### 네트워크의 기본 구조

- 네트워크는 가장자리 노드인 호스트, 중간 노드인 네트워크 장비, 노드들을 연결하는 간선인 통신 매체, 노드들이 주고받는 정보인 메시지로 구성됨

#### 호스트(host)

- 노드는 네트워크를 통해 흐르는 정보를 최초로 생성 및 송신하고, 최종적으로 수신함
- 이러한 가장자리 노드를 호스트 또는 종단 시스템(end system)이라고 함 
- 서버(server)
    - 파일, 웹페이지, 메일 등 서비스를 제공하는 호스트
- 클라이언트(client)
    - 서버에게 어떠한 서비스를 요청(request)하고 서버의 응답(response)을 제공받는 호스트

#### 네트워크 장비 또는 중간 노드

- 네트워크 가장 자리에 위치하지 않은 노드
- 호스트 간 주고받을 정보가 중간에 거치는 노드
- 호스트 간 주고받는 정보가 원하는 수신지까지 안정적이고 안전하게 전송될 수 있도록 함

#### 통신 매체

- 각 노드(호스트, 네트워크 장비)를 연결하는 간선
- 유선 매체와 무선 매체로 나뉨

#### 메시지

- 통신 매체로 연결된 노드가 주고받는 정보

### 범위에 따른 네트워크 분류

- 네트워크는 범위에 따라 LAN과 WAN으로 구분함

#### LAN (Local Area Network)

- 가까운 지역을 연결한 근거리 통신망
- 가정, 회사 등 한정된 공간에 구성된 네트워크

#### WAN (Wide Area Network)

- 먼 지역을 연결하는 광역 통신망
- 멀리 떨어진 LAN을 연결할 수 있음
- 예시: 인터넷, 인트라넷 등
- 같은 LAN에 속한 호스트끼리 메시지를 주고받아야 할 때는 WAN이 필요 없지만, 다른 LAN에 속한 호스트와 메시지를 주고받아야 할 때는 WAN이 필요
- WAN은 ISP(Internet Service Provider)라는 인터넷 서비스 업체가 구축하고 관리

### 메시지 교환 방식에 따른 네트워크 분류

- 네트워크로 메시지를 주고받는 방식은 대표적으로 회선 교환 방식과 패킷 교환 방식으로 나눌 수 있음

#### 회선 교환 방식(circuit switching)

- 메시지 전송로인 회선(circuit)을 설정하고 이를 통해 메시지를 주고받는 방식
- 회선을 설정하면 두 호스트가 연결되어 메시지의 전송로가 확보됨
- 두 호스트 사이의 연결을 확보한 후에 메시지를 주고받는 특성으로 인해 주어진 시간 동안 전송되는 정보의 양이 비교적 일정함
- 호스트 간 회선을 적절하게 설정하기 위해 회선 교환 네트워크 장비로 회선 스위치를 사용
- 메시지를 끊임없이 주고받지 않으면서 회선을 점유하는 낭비가 발생할 수 있음

#### 패킷 교환 방식(packet switching)

- 메시지를 패킷이라는 작은 단위로 쪼개어 전송
- 쪼개진 패킷들은 수신지 노드에 도달한 뒤 재조립됨
- 메시지를 송수신하는 두 호스트가 하나의 전송 경로를 점유하지 않기에 네트워크 이용 효율이 상대적으로 높음
- 중간 노드인 패킷 스위치가 패킷이 수신지까지 올바르게 도달할 수 있도록 최적의 경로를 결정하거나 패킷의 송수신자를 식별
    - 예시: 라우터(router), 스위치(switch)
- 패킷 정보
    - 페이로드(payload)
        - 패킷을 통해 전송하고자 하는 데이터
    - 부가 정보
        - 헤더(header)
        - 트레일러(trailer)

## 1.3 네트워크 미시적으로 살펴보기

### 프로토콜(protocol)

- 노드 간에 정보를 올바르게 주고받기 위해 합의된 규칙이나 방법
- 서로 다른 통신 장치들이 정보를 주고받으려면 동일한 프로토콜을 사용해야 함
- 프로토콜에는 각자의 목적과 특징이 있음
    - 특정 프로토콜로 주고받는 패킷의 부가 정보도 달라질 수 있음
    
### 네트워크 참조 모델(network reference model) 또는 네트워크 계층 모델

- 통신이 일어나는 각 과정을 계층으로 나눈 구조
- 계층화의 장점
    - 네트워크 구성과 설계가 용이
        - 계층의 목적에 맞게, 프로토콜과 네트워크 장비를 계층별로 구성할 수 있음
    - 네트워크 문제 진단과 해결이 용이
        - 계층별 진단을 통해 문제 발생 지점을 추측할 수 있음

#### OSI 모델

- ISO(International Organisation for Standardisation)에서 만든 네트워크 참조 모델
- 구성
    - 물리 계층(physical layer)
        - 1과 0으로 표현되는 비트 신호를 주고받는 계층
        - 가장 근원적인 통신이 이루어지는 계층
        - 통신 매체에 맞는 신호로 운반되도록 비트 데이터의 변환이 이루어지고 통신 매체를 통한 송수신이 이루어지는 계층
    - 데이터 링크 계층(data link layer)
        - 네트워크 내 주변 장치 간의 정보를 올바르게 주고받기 위한 계층
        - 물리 계층을 통해 주고받는 정보에 오류가 없는지 확인하고, MAC 주소라는 주소 체계를 통해 네트워크 내 송수신지를 특정할 수 있음
        - 때로는 전송 과정에서 발생할 수 있는 충돌 문제를 해결할 수도 있음
    - 네트워크 계층(network layer)
        - 메시지를 다른 네트워크에 속한 수신지까지 전달하는 계층
        - IP주소라는 주소 체계를 통해 통신하고자 하는 수신지 호스트와 네트워크를 식별하고, 원하는 수신지에 도달하기 위한 최적의 경로 설정
    - 전송 계층(transport layer)
        - 신뢰성 있고 안정성 있는 전송을 해야 할 때 필요한 계층
        - 패킷이 정상적으로 보내졌는데, 중간에 유실된 정보는 없는지, 여러 개의 패킷을 보낼 때 순서가 뒤바뀐 것은 없는지 점검
        - 패킷의 흐름을 제어하거나 전송 오류를 점검해 신뢰성 있고 안정적인 전송이 이루어지도록 함
        - 포트라는 정보를 통해 실행 중인 응용 프로그램의 식별이 이루어지기도 함
    - 세션 계층(session layer)
        - 통신을 주고받는 호스트의 응용 프로그램 간 연결 상태인 세션을 관리하는 계층
        - 세션을 생성하거나 유지하고, 종료되었을 때는 끊어주는 역할을 담당
    - 표현 계층(presentation layer)
        - 자연어-기계어 변환, 압축, 암호화와 같은 작업을 수행
    - 응용 계층(application layer)
        - 사용자가 이용할 응용 프로그램에 다양한 실질적인 네트워크 서비스를 제공

#### TCP/IP 모델

- 이론보다는 구현에 중점을 둔 네트워크 참조 모델
- 구성
    - 네트워크 액세스 계층(network access layer) 또는 링크 계층(link layer) 또는 네트워크 인터페이스 계층(network interface layer)
        - OSI 모델의 데이터 링크 계층과 유사
    - 인터넷 계층(internet layer)
        - OSI 모델의 네트워크 계층과 유사
    - 전송 계층(transport layer)
        - OSI 모델에서의 전송 계층과 유사
    - 응용 계층(application layer)
        - OSI 모델의 세션 계층, 표현 계층, 응용 계층을 합친 것과 유사

### 캡슐화와 역캡슐화

- 패킷은 송신 과정에서 캡슐화가 이루어지고, 수신 과정에서 역캡슐화가 이루어짐

#### 캡슐화(encapsulation)

- 정보를 송신할 때 각 계층에서는 상위 계층으로부터 내려받은 패킷을 페이로드로 삼아, 프로토콜에 걸맞은 헤더(혹은 트레일러)를 덧붙인 후 하위 계층으로 전달
- 상위 계층의 패킷은 하위 계층에서의 페이로드로 간주됨
- 한 단계 아래 계층은 바로 위의 계층으로부터 받은 패킷에 헤더 및 트레일러를 추가해 나감

#### 역캡슐화(decapsulation)

- 메시지를 수신할 때 캡슐화 과정에서 붙였던 헤더 및 트레일러를 각 계층에서 확인한 뒤 제거

### PDU(Protocol Data Unit)

- 각 계층에서 송수신되는 메시지의 단위
- 상위 계층에서 전달받은 데이터에 현재 계층의 프로토콜 헤더 및 트레일러를 추가하면 현재 계층의 PDU가 됨
- 계층별 PDU
    - 데이터(data)
        - 응용 계층, 표현 계층, 세션 계층
    - 세그먼트(segment) 또는 데이터그램(datagram)
        - 전송 계층
    - 패킷(packet)
        - 네트워크 계층
    - 프레임(frame)
        - 데이터 링크 계층
    - 비트(bit)
        - 물리 계층

### 트래픽과 네트워크 성능 지표

- 트래픽(traffic)
    - 네트워크 내의 정보량
    - 특정 노드에 트래픽이 몰릴 경우 해당 노드에 과부하(overhead)가 생겨 성능 저하가 일어날 수 있음
- 네트워크 성능 지표
    - 처리율(throughput)
        - 단위 시간당 네트워크를 통해 실제로 전송되는 정보량
    - 대역폭(bandwidth)
        - 신호 처리 영역에서 주파수의 범위
        - 네트워크 성능 측정 영역에서 단위 시간 동안 통신 매체를 통해 송수신할 수 있는 최대 정보량
    - 패킷 손실(packet loss)
        - 송수신되는 패킷이 손실된 상황
        - 노드가 순간적으로 처리해야 할 패킷이 너무 많아지거나 네트워크 상에 예기치 못한 장애가 발생해서 패킷을 처리하지 못할 때 발생